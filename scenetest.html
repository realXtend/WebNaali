<html> 
<head> 
<!--
    scenetest.html - for loading and browsing a scene

    scenetest loads a collada scene. 

    You can "walk" in the scene using wasd and arrow keys,

-->

<meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
<title>Scenetest</title> 

<!-- GLGE stuff --> 
<script type="text/javascript" src="glge/glge_math.js"></script>
<script type="text/javascript" src="glge/glge.js"></script>
<script type="text/javascript" src="glge/glge_input.js"></script>
<script type="text/javascript" src="glge/glge_collada.js"></script>

<!-- jQuery -->
<script type="text/javascript" src="jquery-1.4.3.js"></script>

<script type="text/javascript" src="global.js"></script>
<script type="text/javascript" src="3d.js"></script>
<script type="text/javascript" src="entities.js"></script>

<!-- code for demo stuff -->
<script type="text/javascript">

window.onload = function() {

    initGraffa();

    lobby = new GLGE.Collada();

    lobby.setId("aula");
    lobby.setDocument("http://localhost:8000/WebNaali/aula/aula_v8a.dae");
    
    //lobby.setDrawType(GLGE.DRAW_LINESTRIPS);

    lobby.setLoc(127, 127, 0);
    scene.addCollada(lobby);

    var ovi = new GLGE.Collada();

    ovi.setId("Ovi");

    ovi.setDocument("http://localhost:8000/WebNaali/man2.dae");
    // var actions = ovi.addColladaAction();
    // var actions= Mycollada.addColladaAction();
    // Mycollada.setAction(actions[{collada clip id},{blendtime},{loop?});

    // But since there arenâ€™t that many exports that support animclips
    // you can also define frames: 0-30 walk 31-91 ideal. Simply set
    // the number of frames and start frame, ie to set the ideal:

    // Mycollada.setFrames(60);
    // Mycollada.setStartFrame(31,{blendtime},{loop?});
    ovi.setFrames(60)
    ovi.setStartFrame(1, 3, 1);

    scene.addCollada(ovi);


    setId({id: 1});

    addEntity({id: 1})
    addComponent({id: 1, component: "EC_Mesh", url: "http://localhost:8000/WebNaali/ankka.dae"});
    addComponent({id: 1, component: "EC_Placeable", x: 131.806, y: 48.9571, z: 28.7691, rotx: 1.57, roty: 0, rotz: 0});
    
    addEntity({id: 2});
    addComponent({id: 2, component: "EC_Mesh", url: "http://localhost:8000/WebNaali/ankka.dae"});
    addComponent({id: 2, component: "EC_Placeable", x: 93.5850172746437, y: 34.89469801795778, z: 28.7691, rotx: 1.57, roty: -6.5999999999999925, rotz: 0});

    loadScene(ent_data);

    startRender();
};

</script>

</head>

<body>
<h1>WebGL scenetest</h1>

<div id="container">
  <canvas id="graffa" width="400" height="400">
    This text is displayed if your browser does not support HTML5 Canvas.
    </canvas>
    <div id="info">
  </div>
  <br>
  <div id="fps"></div>
  <br>
  <div id="debug"></div>
</div>
<p id="buttons">
Kek plop
<button onclick='clearInterval(rendertimerid)'>Stop rendering</button>
</p>

</body>
</html>
